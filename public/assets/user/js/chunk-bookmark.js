(window.webpackJsonp=window.webpackJsonp||[]).push([["461b"],{"4zCM":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"unbookmarkPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbookmarkPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"done"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:80}};t.loc.source={body:"mutation unbookmarkPost($id: ID!) {\n\tunbookmarkPost(id: $id) {\n\t\tid\n\t\tdone\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}}),e.exports=t,e.exports.unbookmarkPost=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return r.forEach(function(n){var i=o(e,n);i&&t.definitions.push(i)}),t}(t,"unbookmarkPost")},"7BTi":function(e,n){e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},F3Iy:function(e,n){e.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},IS96:function(e,n,t){var i=t("cOqj"),o=t("a2QF"),a=t("1s4d"),r=i(function(e){return null!=e&&a(e,o(e))});e.exports=r},Jhli:function(e,n,t){"use strict";t.r(n);var i=t("zrwo"),o=t("IS96"),a=t.n(o),r=t("0iUn"),s=t("sLSF"),c=t("MI3g"),d=t("a7VT"),u=t("AT/M"),l=t("Tit0"),f=t("vYYK"),m=t("q1tI"),p=t.n(m),k=t("J4pt"),v=t("4KRT"),b=t("Osps"),y=t("GQew"),h=t("WXMw"),g=t.n(h),S=t("4zCM"),j=t.n(S),w=p.a.createElement(p.a.Fragment,null,p.a.createElement("polygon",{points:"24.7 14.1 22.5 17.5 18.5 18.4 21.3 21.5 21 25.5 24.7 23.7 28.4 25.5 28.1 21.5 30.5 18.4 26.8 17.5 "}),p.a.createElement("path",{d:"M40 44L24.3 33.6 9 44V8c0-1.7 1.3-3 3-3h24.9C38.6 5 40 6.3 40 8V44z"})),N={article:!0,userarticle:!0,test:!0,userquiz:!0,poll:!0,text:!0},O=function(e){function n(){var e,t;Object(r.default)(this,n);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return t=Object(c.default)(this,(e=Object(d.default)(n)).call.apply(e,[this].concat(s))),Object(f.a)(Object(u.default)(t),"actionPost",function(){var e=t.props,n=e.id,o=e.loading,r=e.done,s=e.actionPost,c=e.post,d=void 0===c?{}:c,u=e.source,l=e.addToast;if(o)return null;var m=s({variables:{id:n},optimisticResponse:Object(f.a)({},r?"unbookmarkPost":"bookmarkPost",{done:!r,id:"".concat(n,"-bookmark"),__typename:"BookmarkPostUserAction"})});return m&&m.then?m.then(function(){if(l({content:"Post ".concat(r?"unbookmarked":"bookmarked"," successfully!")}),!r&&!a()(d)&&N[d.type]){var e={};e="article"===d.type||"userarticle"===d.type||"text"===d.type?{postId:d.id,postTitle:d.title||"",postType:d.type||"article",authorId:d.author&&d.author.id||"",examId:d.exam&&d.exam.id||"",groupId:d.group&&d.group.id||"",eventSource:u,subjectId:d.subjects&&d.subjects[0]&&d.subjects[0].id?d.subjects&&d.subjects[0]&&d.subjects[0].id:d.subjects&&d.subjects[0]&&d.subjects[0].categoryNode&&d.subjects[0].categoryNode.id||""}:{postId:d.id,postTitle:d.title||"",postType:d.type||"article",authorId:d.author&&d.author.id||"",examId:d.exam&&d.exam.id||"",groupId:d.group&&d.group.id||"",type:"poll"===d.type?"question":"quiz",eventSource:u};var n=Object(i.a)({name:"BookmarkPost"},e);k.a.event.push(n)}}).catch(function(e){return l({content:"Some error occured! - ".concat(e&&e.error?e.error:e)})}):void 0}),t}return Object(l.default)(n,e),Object(s.default)(n,[{key:"render",value:function(){var e=this.props,n=e.done,t=e.classes;return p.a.createElement(y.a,{classes:"dib svg-fn pointer ".concat(t," ").concat(n?"svg-s-green":"svg-s-dark-gray"),spriteIcon:w,viewBox:"0 0 48 48",width:"25",height:"25",style:{strokeWidth:"2px"},onClick:this.actionPost})}}]),n}(p.a.Component);Object(f.a)(O,"defaultProps",{classes:"",loading:!1,post:{},source:""});var P=function(e){var n=Object(m.useContext)(b.a).add;return p.a.createElement(v.b,{mutation:e.done?j.a:g.a},function(t,i){var o=i.called,a=i.loading,r=i.error;return r&&!a&&o&&console.log(r),p.a.createElement(O,{id:e.id,actionPost:e.user&&e.user.id?t:e.openAuthModal,done:e.done,classes:e.classes,loading:a,post:e.post,source:e.source,addToast:n})})};P.defaultProps={user:null,classes:"",done:!1,post:{},source:""};n.default=P},WXMw:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"bookmarkPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookmarkPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"done"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:76}};t.loc.source={body:"mutation bookmarkPost($id: ID!) {\n\tbookmarkPost(id: $id) {\n\t\tid\n\t\tdone\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}}),e.exports=t,e.exports.bookmarkPost=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return r.forEach(function(n){var i=o(e,n);i&&t.definitions.push(i)}),t}(t,"bookmarkPost")},a2QF:function(e,n,t){var i=t("cOqj"),o=t("l7rt"),a=t("hOtR"),r=t("7BTi"),s=t("F3Iy"),c=i(function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():a(e)?[]:s(e)?"":r(e)?{}:o(e)?function(){return arguments}():void 0});e.exports=c},hOtR:function(e,n){e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}}}]);
//# sourceMappingURL=chunk-bookmark.88e866747125ae5587e9.js.map